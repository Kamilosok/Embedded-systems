\documentclass[tikz,border=2pt]{standalone}
\usepackage[european]{circuitikz}
\usepackage{siunitx}

\usetikzlibrary{backgrounds}

\begin{document}
\begin{circuitikz}[scale=1.5, transform shape, thick, font=\Large]

    % Manual bounding box setting
    \draw[use as bounding box] (-11.5,-4.5) rectangle (13.5,8.5);

    % To see it on github
    \begin{scope}[on background layer]
        \fill[white] (-11.5,-4.5) rectangle (13.5,8.5);
    \end{scope}



    % #1 - x shift of block
    % #2 - 0 - only LED, 1 - LED + resistor + pins
    % #3 - list of x/num pairs for LEDs, e.g. 0/16, 1/15 
    % #4 - list of x/name pairs for LED names, e.g. 0/A, 1/B
    \newcommand{\LedBlock}[4]{
        
        % Power
        \ifnum#2=1

            \draw ({#1-10},5.2) 
            to[short,-o] ({#1-10},6.0) node[right]{14}
            to ({#1-10}, 7.0) node[vcc]{+\SI{5}{\volt}};
        \else
            \draw ({#1-10},5.2) 
            to [short,-o] ({#1-10},6.0) node[right]{13};
        \fi

        % Common anode
        \draw ({#1-10},5.2) -- ({#1-10+7*1.5},5.2);


        \foreach \x/\num in {#3} {
            % Get LED name from list
            \foreach \xi/\name in {#4} {
                \ifnum\x=\xi
                    \node[right] at ({#1-10+\x*1.5},4.9) {\name};
                \fi
            }
            
            % LEDs
            \draw
                ({#1-10+\x*1.5},5.2)
                to[led, o-o] ({#1-10+\x*1.5},3.5) node[right]{\num};

            % Stubs connecting to driver
            \ifnum#2=1
                \draw ({#1-10+\x*1.5},3.5) to [short, o-] ({#1-10+\x*1.5},3.0);
            \fi
        }

    }

    % TLC5916 Driver (defined before LedBlock so it can be referenced)
    \node[draw, minimum width=9cm, minimum height=4cm] (DRIVER) at (-0.5,-0.5) {TLC5916};

    \LedBlock{0}{1}{0/16,1/15,2/3,3/2,4/1,5/18,6/17,7/4}{0/A,1/B,2/C,3/D,4/E,5/F,6/G,7/DP}

    \LedBlock{12}{0}{0/11,1/10,2/8,3/6,4/5,5/12,6/7,7/9}{0/A,1/B,2/C,3/D,4/E,5/F,6/G,7/DP}

    % Connect LEDs to driver outputs
    \foreach \i in {0,...,7} {
        \draw ({-10.0+\i*1.5},3.0) 
        to ([yshift=0.5cm, xshift={-3.5cm + \i*0.7cm}]DRIVER.north);
    }

    % Driver pins
    \node[right] at ([yshift=1.2cm]DRIVER.west) {SDI};
    \draw ([yshift=1.2cm]DRIVER.west) node[above left, font=\footnotesize]{2} to ++(-1.5,0) node[left]{MOSI};
  
    \node[right] at ([yshift=0.4cm]DRIVER.west) {CLK};
    \draw ([yshift=0.4cm]DRIVER.west) node[above left, font=\footnotesize]{3} to ++(-1.5,0) node[left]{SCK};

    \node[right] at ([yshift=-0.4cm]DRIVER.west) {LE};
    \draw ([yshift=-0.4cm]DRIVER.west) node[above left, font=\footnotesize]{4} to ++(-1.5,0) node[left]{PB1};

    \node[right] at ([yshift=-1.2cm]DRIVER.west) {$\overline{\text{OE}}$};
    \draw ([yshift=-1.2cm]DRIVER.west) node[above left, font=\footnotesize]{13} to ++(-1.5,0) node[left]{PB2};

    \node[above] at ([xshift=3.0cm]DRIVER.south) {GND};
    \draw ([xshift=3.0cm]DRIVER.south) node[below right, font=\footnotesize]{1} to ++(0,-0.5) node[ground]{};

    \node[left] at ([yshift=-1.0cm]DRIVER.east) {Rext};
    \draw ([yshift=-1.0cm]DRIVER.east) node[above right, font=\footnotesize]{15} 
    -- ++(1.0, 0)
    to [R, l=\raisebox{1.5em}{\rotatebox{-90}{\SI{2.2}{k\ohm}}}, label distance=5pt] ++(0,-1.5) node[ground]{};

    \node[left] at (DRIVER.east) {SDO};
    \draw (DRIVER.east) node[above right, font=\footnotesize]{14} -- ++(0.5,0);

    \node[below] at ([xshift=3.0cm]DRIVER.north) {Vdd};
    \draw ([xshift=3.0cm]DRIVER.north) node[above right, font=\footnotesize]{16} to ++(0,0.1) node[vcc]{+\SI{5}{\volt}};

    % Output pins O0-O7
    % Pin numbers are kept for future modifications
    \foreach \i/\pin in {0/5, 1/6, 2/7, 3/8, 4/9, 5/10, 6/11, 7/12} {
        \node[below] at ([xshift={-3.5cm + \i*0.7cm}]DRIVER.north) {O\i};
        \draw ([xshift={-3.5cm + \i*0.7cm}]DRIVER.north) node[above right, font=\footnotesize]{\pin} -- ++(0,0.5);
    }

\end{circuitikz}
\end{document}
