\documentclass[tikz,border=2pt]{standalone}
\usepackage[european]{circuitikz}
\usepackage{siunitx}

\usetikzlibrary{backgrounds}

\begin{document}
\begin{circuitikz}[scale=1.5, transform shape, thick, font=\Large]

    % Manual bounding box setting
    \draw[use as bounding box] (-11.0,-1) rectangle (13.5,9.0);

    % To see it on github
    \begin{scope}[on background layer]
        \fill[white] (-11.0,-1) rectangle (13.5,9.0);
    \end{scope}



    % #1 - x shift of block
    % #2 - 0 - only LED, 1 - LED + resistor + pins
    % #3 - list of x/num pairs for LEDs, e.g. 0/16, 1/15 
    % #4 - list of x/name pairs for LED names, e.g. 0/A, 1/B
    \newcommand{\LedBlock}[4]{
        
        % Multiplexed power
        \ifnum#2=1
            \draw ({#1-10},5.5) -- ({#1-10},5.5) node[pnp, anchor=C, xscale=-1](Qa#1){};
            \draw (Qa#1.E) -- ({#1-10},7) node[vcc]{+\SI{5}{\volt}};
            \draw (Qa#1.B) to[short, -o] ({#1-10+1},6.268) node[right]{PC0};

            \draw ({#1-10},5.2) 
            to[short,-o] ({#1-10},5.5) node[right]{14};
        \else
            \draw ({#1-10},5.5) -- ({#1-10},5.5) node[pnp, anchor=C, xscale=-1](Qb#1){};
            \draw (Qb#1.E) -- ({#1-10},7) node[vcc]{+\SI{5}{\volt}};
            \draw (Qb#1.B) to[short, -o] ({#1-10+1},6.268) node[right]{PC1};

            \draw ({#1-10},5.2) 
            to[short,-o] ({#1-10},5.5) node[right]{13};
        \fi

        % Common anode
        \draw ({#1-10},5.2) -- ({#1-10+7*1.5},5.2);


        \foreach \x/\num in {#3} {
            % Get LED name from list
            \foreach \xi/\name in {#4} {
                \ifnum\x=\xi
                    \node[right] at ({#1-10+\x*1.5},4.9) {\name};
                \fi
            }
            
            % LEDs
            \draw
                ({#1-10+\x*1.5},5.2)
                to[led, o-o] ({#1-10+\x*1.5},3.5) node[right]{\num};

            % Resistors + pins
            \ifnum#2=1
                \draw
                    ({#1-10+\x*1.5},3.5) 
                    to[short, o-o] ({#1-10+\x*1.5},1.5)
                    to[R, o-*] ({#1-10+\x*1.5},0)
                    node[below]{PD\x};
            \else
                \draw
                    ({#1-10+\x*1.5},3.5) 
                    to[short, o-] ({#1-10+\x*1.5},3.2-\x*0.2)
                    to[short,-*]({#1-22+\x*1.5}, 3.2-\x*0.2);
            \fi
        }

    }
    

    \LedBlock{0}{1}{0/16,1/15,2/3,3/2,4/1,5/18,6/17,7/4}{0/A,1/B,2/C,3/D,4/E,5/F,6/G,7/DP}

    \LedBlock{12}{0}{0/11,1/10,2/8,3/6,4/5,5/12,6/7,7/9}{0/A,1/B,2/C,3/D,4/E,5/F,6/G,7/DP}

\end{circuitikz}
\end{document}
